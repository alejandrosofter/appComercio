<template name="compras">
   <h1><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> COMPRAS <small></small></h1>
{{> reactiveTable id="tablaCompras" settings=settings}}
<button title="Modificar" type="button" id="btnPrueba" class=" btn  btn-xs btn-success" aria-label="Left Align">  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </button>
</template>
<template name="accionesItemsCompras">
  <div class="acciones" style="display:none">
 <button title="Modificar" type="button" class="modificar btn  btn-xs btn-success" aria-label="Left Align">  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </button>
    <button title="Quitar" type="button" class="delete btn  btn-xs btn-danger" aria-label="Left Align">  <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> </button>
  </div>
</template>
<template name="accionesCompras">
  <div class="acciones" style="display:none">
 
     {{#if ingresado}}
    <button title="Asignar Stock" type="button" class="stockear btn  btn-xs btn-primary" aria-label="Left Align">  <span class="glyphicon glyphicon-screenshot" aria-hidden="true"></span> </button>
   {{/if}}
     <div class="btn-group">
  <button title="Pagos" type="button" class="btn btn-default dropdown-toggle btn-xs" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    {{#if tienePagos}} <span class="label label-primary">{{cantidadPagos}}</span>{{/if}}
<span class="glyphicon glyphicon-usd" aria-hidden="true"></span>    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu">
    <li><a href="#" class="pagos">Listado Pagos</a></li>
    <li><a href="#" class="nuevoPagoVario">Nuevo Pago</a></li>
  </ul>
</div>
    <button title="Ver Items" type="button" class="ver btn  btn-xs btn-warning" aria-label="Left Align">  <span class="glyphicon glyphicon-search" aria-hidden="true"></span> </button>
    <button title="Modificar" type="button" class="modificar btn  btn-xs btn-success" aria-label="Left Align">  <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> </button>
    <button title="Quitar" type="button" class="delete btn  btn-xs btn-danger" aria-label="Left Align">  <span class="glyphicon glyphicon-minus" aria-hidden="true"></span> </button>
  </div>
</template>
<template name="modificaItemCompra">
<div style="display:none" id="formUpdate" class="form-inline">
{{#autoForm  collection="Compras"  id="modificaItemCompra_" doc=docu scope="items" setArrayItems=true  type="update"}}
                           {{> afQuickField id="codigo_up" label=false placeholder="CODIGO" style="width:90px"  name=eti_codigo }}
                          {{> afQuickField id="cantidad_up" label=false placeholder="CANT." style="width:80px"   name=eti_cantidad }}
                          {{> afQuickField id="detalle_up" label=false placeholder="DETALLE" style="width:300px"  name=eti_detalle }}
                          
                          {{> afQuickField id="importe_up" label=false placeholder="$ UNIDAD" style="width:100px"   name=eti_importe }}
                          {{> afQuickField id="idEntidad_up" label=false placeholder="ENTIDAD" style="width:200px"  name=eti_idEntidad }}
                          
                   
<div class="form-group">
           <button type="submit"   id="btnAcepta" style="" class="btn btn-warning"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> MODIFICAR</button>
</div>
                     {{/autoForm}}
</div>
       
</template>
<template name="nuevoItemCompra">
   <div class="form-inline">
          {{#autoForm  collection="Compras"  id="agregarItem_" doc=docu scope="items" type="update-pushArray"}}
                          {{> afQuickField id="codigo" label=false placeholder="CODIGO" style="width:90px"  name="codigo" }}
                          {{> afQuickField id="cantidad" label=false placeholder="CANT." style="width:80px"   name="cantidad" }}
                          {{> afQuickField id="detalle" label=false placeholder="DETALLE" style="width:300px"  name="detalle" }}
                          {{> afQuickField id="importe" label=false placeholder="$ UNIDAD" style="width:100px"   name="importe" }}
                          {{> afQuickField id="idEntidad" label=false placeholder="ENTIDAD" style="width:100px"   name="idEntidad" }}
                          
                   
        <div class="form-group">
           <button type="submit"   id="btnAcepta" style="" class="btn btn-success"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> AGREGAR</button>
        </div>
 
    
                     {{/autoForm}}
 </div>
</template>
<template name="verItemsCompras">
    <div id="modalItems" class="modal fade bs-example-modal" tabindex="" role="dialog" aria-labelledby="myLargeModalLabel">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
       <div class="modal-header">
       
                    <h4 class="modal-title"><b>ITEMS</b> de la compra </h4>
                </div>
                <div class="modal-body">
                {{>nuevoItemCompra docu=docu}}
                {{>modificaItemCompra docu=docu}}

                 {{> reactiveTable id="tablaVentasItems" settings=settingsItems}}
            
                 
                </div>
               
                <div class="modal-footer">
                  <div style="float: right;margin-right: 120px">
                    <table class="table table-condensed">
                      <tr><th>TOTAL COMPRA</th> <td>$ {{totalCompra}}</td></tr>
                      <tr><th>TOTAL ITEMS</th> <td>$ {{totalItems}}</td></tr>
                      <tr><th>DIFERENCIA</th> <td>$ {{diferencia}}</td></tr>
                      
                    </table>
                 </div>
                </div>

    
  </div>
</div>
</div>
</template>